{"remainingRequest":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sun\\Documents\\vue_progect\\vuea\\src\\components\\Students.vue?vue&type=style&index=0&id=27bd59c8&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\src\\components\\Students.vue","mtime":1616164810453},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2VhcmNoX2JveCB7CiAgbWFyZ2luLXRvcDogMTVweDsKICBwYWRkaW5nOiAxNnB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KCi5zZWFyY2hfYm94IGg0IHsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Cgouc2VhcmNoX2JveCAuZWwtZm9ybSB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmJ0bl9pdGVtIHsKICBmbG9hdDogcmlnaHQ7Cn0KCmJ1dHRvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzU3YTA4YjsKICBjb2xvcjogd2hpdGU7Cn0KCi5kYXRhX2NvbnRhaW5lciB7CiAgbWFyZ2luLXRvcDogMTVweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwp9CgouZGF0YV9jb250YWluZXIgLmRhdGFfaGVhZGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGhlaWdodDogNTBweDsKICBwYWRkaW5nOiAwcHggMjBweDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UzZTNlMzsKfQoKLmRhdGFfY29udGFpbmVyIC5kYXRhX2JvZHkgewogIHBhZGRpbmc6IDEwcHggMTVweDsKfQoKLmRhdGFfYm9keSAuZWwtbGluayB7CiAgbWFyZ2luLWxlZnQ6IDE5cHg7Cn0KCi5kYXRhX2NvbnRhaW5lciAuZGF0YV9mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICBwYWRkaW5nOiA1cHggMjBweDsKfQo="},{"version":3,"sources":["Students.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsRA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Students.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item><a href=\"/\">学生管理</a></el-breadcrumb-item>\n    </el-breadcrumb>\n    <div class=\"search_box\">\n      <h4>学员筛选</h4>\n      <el-form :inline=\"true\" size=\"medium\">\n        <el-form-item label=\"注册时间\">\n          <el-date-picker\n              v-model=\"searchForm.date\"\n              type=\"datetimerange\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              align=\"right\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-switch active-text=\"已付费\"\n                     v-model=\"searchFormAccountDisabled\"\n                     inactive-value=\"#57a08b\"\n                     active-color=\"#57a08b\"\n                     inactive-text=\"未付费\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"查询条件\">\n          <el-input v-model=\"searchForm.searchParam\" placeholder=\"请输入学生账号,昵称,手机号\"></el-input>\n        </el-form-item>\n        <el-form-item class=\"btn_item\">\n          <el-button icon=\"el-icon-search\" @click=\"searchStudent\">筛选</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--  数据部分-->\n    <div class=\"data_container\">\n      <!--数据头部-->\n      <div class=\"data_header\">\n        <h4>学员列表</h4>\n      </div>\n      <div class=\"data_body\">\n        <el-table :data=\"studentList\">\n          <el-table-column label=\"用户id\" prop=\"id\"></el-table-column>\n          <el-table-column label=\"用户昵称\" prop=\"nickName\"></el-table-column>\n          <el-table-column label=\"手机号\" prop=\"cellPhoneNumber\"></el-table-column>\n          <el-table-column label=\"付费总额\" prop=\"totalAmountPaid\"></el-table-column>\n          <el-table-column label=\"订单数量\" prop=\"numberOfOrders\"></el-table-column>\n          <el-table-column label=\"上次付费时间\" prop=\"lastPaymentTime\"></el-table-column>\n          <el-table-column label=\"账户禁用\" prop=\"accountDisabled\">\n            <template v-slot=\"slotProps\">\n              <el-switch\n                  @change=\"disableAccount($event,slotProps.row.id)\"\n                  v-model=\"slotProps.row.accountDisabled\"\n                  active-color=\"#13ce66\"\n                  inactive-color=\"#ff4949\">\n              </el-switch>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-link @click=\"editStudentShow(scope.row.id)\" type=\"success\">编辑</el-link>\n              <el-link @click=\"deleteStudent(scope.row.id)\" type=\"danger\">删除</el-link>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"data_footer\">\n        <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            @next-click=\"next()\"\n            @prev-click=\"prev()\"\n            :current-page=\"pageNum\"\n            :page-sizes=\"[10, 20, 50, 100]\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n\n    <!--更新弹框-->\n    <!--更新讲师弹框-->\n    <el-dialog :title=\"'更新学生:'+editId\" :visible.sync=\"dial\" >\n      <el-form :model=\"editForm\" label-width=\"100px\" label-position=\"left\" >\n        <el-form-item label=\"id\" >\n          <el-input v-model=\"editForm.StudentId\" placeholder=\"请输入学员id\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"昵称\" >\n          <el-input v-model=\"editForm.nickName\" placeholder=\"请输入学员昵称\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"手机号\" >\n          <el-input v-model=\"editForm.cellPhoneNumber\" placeholder=\"请输入学员手机号\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"付费总额\" >\n          <el-input v-model=\"editForm.totalAmountPaid\" placeholder=\"请输入学员付费总额\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"订单数量\" >\n          <el-input v-model=\"editForm.numberOfOrders\" placeholder=\"请输入学员订单数量\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上次付费时间\"  >\n          <el-date-picker\n              v-model=\"editForm.lastPaymentTime\"\n              type=\"date\"\n              placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"禁用账户\"  >\n          <el-switch\n              inactive-text=\"禁用\"\n              active-text=\"启用\"\n              v-model=\"editForm.accountDisabled\"\n              active-color=\"#13ce66\"\n              inactive-color=\"#ff4949\">\n          </el-switch>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button size=\"medium\" @click=\"dial = false\">取 消</el-button>\n        <el-button type=\"primary\" size=\"medium\" @click=\"editStudent()\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport Qs from \"qs\";\n\nexport default {\n  data() {\n    return {\n      searchFormAccountDisabled: true,\n      dial: false,\n      studentList: [{\n        id: '1001',\n        nickName: 'xiaoMing',\n        cellPhoneNumber: '76877767676',\n        totalAmountPaid: 999,\n        numberOfOrders: 9,\n        lastPaymentTime: '2016-05-02 17:00',\n        accountDisabled: true,\n      }, {\n        id: '1002',\n        nickName: 'xiaoTing',\n        cellPhoneNumber: '889897876',\n        totalAmountPaid: 888,\n        numberOfOrders: 7,\n        lastPaymentTime: '2016-05-02 15:00',\n        accountDisabled: false,\n      }],\n      editId: '',\n      editForm: {\n        StudentId: '',\n        nickName: '',\n        cellPhoneNumber: '',\n        totalAmountPaid: '',\n        numberOfOrders: '',\n        lastPaymentTime: '',\n        accountDisabled: true,\n      },\n      searchForm: {\n        date: \"\",\n        searchParam: \"\",\n        searchFormAccountDisabled: \"\",\n      },\n      pageNum: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  created() {\n    // this.getStudentList();\n    //  暂时不执行\n  },\n  methods: {\n    searchStudent() {\n      this.getStudentList();\n    },\n    getStudentList() {\n      let url = \"student/getStudent\";\n      let userInfoStr = window.sessionStorage.getItem(\"userInfo\");\n      let token = JSON.parse(userInfoStr).token;\n      let param = {\n        token: token,\n        pagenum: this.pageNum,\n        pagesize: this.pageSize,\n        searchParam: this.searchForm.searchParam\n      };\n      let v = this;\n      this.$axios.post(\n          url,\n          Qs.stringify(param)\n      ).then(function (r) {\n        console.log(r);\n        if (r.data.code == 200) {\n          //处理结果集\n          v.total = r.data.result.total;\n          v.studentList = r.data.result.studentList;\n        }\n      });\n    },\n    deleteStudent(id) {\n      let v = this;\n      v.$confirm('你确定删除该学员吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        v.$message(`执行删除学员方法,要删除的id:${id}`)\n        /*let url = 'student/deleteStudent';\n        let param = {id: id};\n        v.$axios.post(url, Qs.stringify(param)).then(function (r) {\n          v.$message(r.data.message);\n          v.getStudentList();\n        });*/\n      });\n    },\n    editStudentShow(id) {\n      this.dial = true;\n      this.editId = id;\n      console.log(id)\n\n    },\n    editStudent() {\n      this.$message(`执行编辑学员方法,编辑队员${this.editId}参数${this.editForm}`)\n      this.dial= false;\n      /*      let url = \"student/editStudent\";//  提交请求\n            let v = this;\n            console.log(v.editForm);\n            v.$axios.post(url, Qs.stringify(v.editForm)).then(function (r) {\n              v.$message(r.data.message)\n              console.log(r)\n              if (r.data.code == 200) {\n                v.getStudentList();\n              }\n              v.dial = false;\n            });*/\n    },\n    disableAccount(val, id) {\n      let sw = (val == true) ? '启用' : '禁用';\n      console.log(`状态${val}  id ${id} 选择${sw}`);\n      let v = this;\n      v.$confirm(`你确定${sw}该学员账户吗?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        v.$message(`执行${sw}学员方法,要禁用的id:${id}`)\n        /*let url = '#';\n        let param = {id: id , ban:val};\n        v.$axios.post(url, Qs.stringify(param)).then(function (r) {\n          v.$message(r.data.message);\n          v.getStudentList();\n        });*/\n      });\n    },\n    handleCurrentChange(value) {\n      this.pagenum = value;\n      this.getTeacherList();\n    },\n    handleSizeChange(value) {\n      this.pagesize = value;\n      this.getTeacherList();\n    },\n    prev() {\n      this.pagenum--;\n      this.getTeacherList();\n    },\n    next() {\n      this.pagenum++;\n      this.getTeacherList();\n    },\n  }\n\n};\n</script>\n<style scoped>\n.search_box {\n  margin-top: 15px;\n  padding: 16px;\n  background-color: #fff;\n}\n\n.search_box h4 {\n  margin-bottom: 10px;\n}\n\n.search_box .el-form {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.btn_item {\n  float: right;\n}\n\nbutton {\n  background-color: #57a08b;\n  color: white;\n}\n\n.data_container {\n  margin-top: 15px;\n  background-color: #fff;\n}\n\n.data_container .data_header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 50px;\n  padding: 0px 20px;\n  border-bottom: 1px solid #e3e3e3;\n}\n\n.data_container .data_body {\n  padding: 10px 15px;\n}\n\n.data_body .el-link {\n  margin-left: 19px;\n}\n\n.data_container .data_footer {\n  display: flex;\n  justify-content: flex-end;\n  padding: 5px 20px;\n}\n</style>"]}]}