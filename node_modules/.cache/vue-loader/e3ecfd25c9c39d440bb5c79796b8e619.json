{"remainingRequest":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\sun\\Documents\\vue_progect\\vuea\\src\\components\\Teachers.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\src\\components\\Teachers.vue","mtime":1616137741972},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\sun\\Documents\\vue_progect\\vuea\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKg0KKiAg5YiG6aG15oC757uTOg0KKiAgICDliIbpobXliIbnsbsNCiogICAgICAgMS4g54mp55CG5YiG6aG1OuafpeivouaVsOaNruaXtizlsLHov5vooYzliIbpobUNCiogICAgICAgMi4g6YC76L6R5YiG6aG1OuafpeivouWHuuaJgOacieaVsOaNruaXtiznhLblkI7pgJrov4fku6PnoIHpgLvovpHliIbpobUNCiogICAgIOW7uuiuruS9v+eUqOeJqeeQhuWIhumhtQ0KKiAqLw0KaW1wb3J0IFFzIGZyb20gInFzIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgZGlhbDogZmFsc2UsDQogICAgICB0ZWFjaGVyTGlzdDogW10sDQogICAgICBhZGRGb3JtOiB7DQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBpbnRybzogIiIsDQogICAgICAgIG1vYmlsZTogIiIsDQogICAgICAgIHNleDogMSwNCiAgICAgIH0sDQogICAgICBlZGl0SWQ6ICIiLA0KICAgICAgZWRpdEZvcm06IHsNCiAgICAgICAgaWQ6ICIiLA0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgaW50cm86ICIiLA0KICAgICAgICBtb2JpbGU6ICIiLA0KICAgICAgICBzZXg6ICIiDQogICAgICB9LA0KICAgICAgc2VhcmNoRm9ybTogew0KICAgICAgICBzZWFyY2hQYXJhbTogIiINCiAgICAgIH0sDQogICAgICBwYWdlbnVtOiAxLA0KICAgICAgcGFnZXNpemU6IDEwLA0KICAgICAgdG90YWw6IDANCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0VGVhY2hlckxpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNlYXJjaCgpIHsNCiAgICAgIHRoaXMuZ2V0VGVhY2hlckxpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsdWUpIHsNCiAgICAgIHRoaXMucGFnZW51bSA9IHZhbHVlOw0KICAgICAgdGhpcy5nZXRUZWFjaGVyTGlzdCgpOw0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWx1ZSkgew0KICAgICAgdGhpcy5wYWdlc2l6ZSA9IHZhbHVlOw0KICAgICAgdGhpcy5nZXRUZWFjaGVyTGlzdCgpOw0KICAgIH0sDQogICAgcHJldigpIHsNCiAgICAgIHRoaXMucGFnZW51bS0tOw0KICAgICAgdGhpcy5nZXRUZWFjaGVyTGlzdCgpOw0KICAgIH0sDQogICAgbmV4dCgpIHsNCiAgICAgIHRoaXMucGFnZW51bSsrOw0KICAgICAgdGhpcy5nZXRUZWFjaGVyTGlzdCgpOw0KICAgIH0sDQogICAgZWRpdFRlYWNoZXJTaG93KGlkKSB7DQogICAgICB0aGlzLmRpYWwgPSB0cnVlOw0KICAgICAgdGhpcy5lZGl0SWQgPSBpZDsNCiAgICAgIGNvbnNvbGUubG9nKGlkKQ0KICAgIH0sDQogICAgZWRpdFRlYWNoZXIoKSB7DQogICAgICBsZXQgdXJsID0gInRlYWNoZXIvZWRpdFRlYWNoZXIiOy8vICDmj5DkuqTor7fmsYINCiAgICAgIGxldCB2ID0gdGhpczsNCiAgICAgIGNvbnNvbGUubG9nKHYuZWRpdEZvcm0pOw0KICAgICAgdi4kYXhpb3MucG9zdCh1cmwsIFFzLnN0cmluZ2lmeSh2LmVkaXRGb3JtKSkudGhlbihmdW5jdGlvbiAocikgew0KICAgICAgICB2LiRtZXNzYWdlKHIuZGF0YS5tZXNzYWdlKQ0KICAgICAgICBjb25zb2xlLmxvZyhyKQ0KICAgICAgICBpZiAoci5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdi5nZXRUZWFjaGVyTGlzdCgpOw0KICAgICAgICAgIC8vICDlhbPpl61mb3Jt6KGo5Y2VDQogICAgICAgIH0NCiAgICAgICAgdi5kaWFsID0gZmFsc2U7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFkZFRlYWNoZXIoKSB7DQogICAgICAvLyAg5re75Yqg6K6y5biIDQogICAgICAvLyAg6I635Y+W5Y+C5pWwDQogICAgICBsZXQgdXJsID0gInRlYWNoZXIvYWRkVGVhY2hlciI7DQogICAgICAvLyAg5o+Q5Lqk6K+35rGCDQogICAgICBsZXQgdiA9IHRoaXM7DQogICAgICBjb25zb2xlLmxvZyh2LmFkZEZvcm0pDQogICAgICB2LiRheGlvcy5wb3N0KHVybCwgUXMuc3RyaW5naWZ5KHYuYWRkRm9ybSkpLnRoZW4oZnVuY3Rpb24gKHIpIHsNCiAgICAgICAgdi4kbWVzc2FnZShyLmRhdGEubWVzc2FnZSkNCiAgICAgICAgaWYgKHIuZGF0YS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIHYuZ2V0VGVhY2hlckxpc3QoKTsNCiAgICAgICAgICAvLyAg5YWz6ZetZm9ybeihqOWNlQ0KICAgICAgICAgIHYuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICAvLyAg5o+Q56S65re75Yqg57uT5p6cLOWIt+aWsOeVjOmdog0KICAgIH0sDQogICAgLy/liKDpmaTogIHluIgNCiAgICBkZWxldGVUZWFjaGVyKGlkKSB7DQogICAgICBjb25zb2xlLmxvZyhpZCk7DQogICAgICAvL+ehruiupOWIoOmZpA0KICAgICAgLy8gIOWIoOmZpCzmj5DnpLrliKDpmaTkv6Hmga8NCiAgICAgIGxldCB2ID0gdGhpczsNCiAgICAgIHYuJGNvbmZpcm0oJ+S9oOehruWumuWIoOmZpOivpeiusuW4iOWQlz8nLCAn5o+Q56S6Jywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgew0KICAgICAgICAvL+WIoOmZpOiusuW4iOS/oeaBrw0KICAgICAgICBsZXQgdXJsID0gJ3RlYWNoZXIvZGVsZXRlVGVhY2hlcic7DQogICAgICAgIGxldCBwYXJhbSA9IHtpZDogaWR9Ow0KICAgICAgICB2LiRheGlvcy5wb3N0KHVybCwgUXMuc3RyaW5naWZ5KHBhcmFtKSkudGhlbihmdW5jdGlvbiAocikgew0KICAgICAgICAgIHYuJG1lc3NhZ2Uoci5kYXRhLm1lc3NhZ2UpOw0KICAgICAgICAgIHYuZ2V0VGVhY2hlckxpc3QoKTsNCiAgICAgICAgfSk7DQoNCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2hvd0FkZCgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgcmFuQWRkKCkgew0KICAgICAgbGV0IHVybCA9ICJ0ZWFjaGVyL2FkZFRlYWNoZXIiOw0KICAgICAgbGV0IG5hbWVTID0gWyflvKAnLCAn546LJywgJ+adjicsICfotbUnLCAn5YiYJ107DQogICAgICBsZXQgbmFtZUxpc3QgPSBbJ+S+neeniycsICfkvp3ms6InLCAn6aaZ5benJywgJ+e0q+iQsScsICfmtrXmmJMnLCAn5b+G5LmLJywgJ+W5u+W3pycsICfnvo7lgKknLCAn5a6J5a+SJywgJ+eZveS6picsICfnjoknLCAn55KHJywgJ+WGsCcsICflu4knXTsNCiAgICAgIGxldCBuYW1lID0gbmFtZVNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSAlIG5hbWVTLmxlbmd0aF0gKyBuYW1lTGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApICUgbmFtZUxpc3QubGVuZ3RoXQ0KICAgICAgbGV0IGludHJvID0gbmFtZSArICLogIHluIgiOw0KICAgICAgbGV0IG1vYmlsZSA9IFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgtNyk7DQogICAgICBsZXQgc2V4ID0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IDEgOiAwOw0KICAgICAgbGV0IHBhcmFtID0ge25hbWU6IG5hbWUsIGludHJvOiBpbnRybywgbW9iaWxlOiBtb2JpbGUsIHNleDogc2V4fQ0KICAgICAgY29uc29sZS5sb2cocGFyYW0pDQogICAgICBsZXQgdiA9IHRoaXM7DQogICAgICB2LiRheGlvcy5wb3N0KHVybCwgUXMuc3RyaW5naWZ5KHBhcmFtKSkudGhlbihmdW5jdGlvbiAocikgew0KICAgICAgICBpZiAoci5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgY29uc29sZS5sb2coIuaIkOWKnyIpDQogICAgICAgIH0NCiAgICAgIH0pOw0KDQogICAgfSwNCiAgICBnZXRUZWFjaGVyTGlzdCgpIHsNCiAgICAgIC8vICDojrflj5borrLluIjnmoTliJfooajmlbDmja4NCiAgICAgIC8qDQogICAgICAqIOabtOaNouS4uuWIhumhtToNCiAgICAgICogICAgIOWinuWKoOWPguaVsDpwYWdlbnVtLHBhZ2VzaXplDQogICAgICAqICAgICDkv67mlLnojrflj5bnu5Pmnpzpm4bnmoTpgLvovpEqLw0KICAgICAgbGV0IHVybCA9ICJ0ZWFjaGVyL2dldFRlYWNoZXJzIjsNCiAgICAgIGxldCB1c2VySW5mb1N0ciA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpOw0KICAgICAgbGV0IHRva2VuID0gSlNPTi5wYXJzZSh1c2VySW5mb1N0cikudG9rZW47DQogICAgICBsZXQgcGFyYW0gPSB7DQogICAgICAgIHRva2VuOiB0b2tlbiwNCiAgICAgICAgcGFnZW51bTogdGhpcy5wYWdlbnVtLA0KICAgICAgICBwYWdlc2l6ZTogdGhpcy5wYWdlc2l6ZSwNCiAgICAgICAgc2VhcmNoUGFyYW06IHRoaXMuc2VhcmNoRm9ybS5zZWFyY2hQYXJhbQ0KICAgICAgfTsNCiAgICAgIC8vICDlj5HotbdheGlvc+ivt+axgg0KICAgICAgLy8g5ZyoYXhpb3PnmoTlm57osIPkuK0sdGhpc+aMh+eahOS4jeaYr3Z1ZeWvueixoSzlnKjov5nph4zlrZjlgqh2dWXlr7nosaENCiAgICAgIGxldCB2ID0gdGhpczsNCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoDQogICAgICAgICAgdXJsLA0KICAgICAgICAgIFFzLnN0cmluZ2lmeShwYXJhbSkNCiAgICAgICkudGhlbihmdW5jdGlvbiAocikgew0KICAgICAgICBjb25zb2xlLmxvZyhyKTsNCiAgICAgICAgaWYgKHIuZGF0YS5jb2RlID09IDIwMCkgew0KICAgICAgICAgIC8v5aSE55CG57uT5p6c6ZuGDQogICAgICAgICAgdi50b3RhbCA9IHIuZGF0YS5yZXN1bHQudG90YWw7DQogICAgICAgICAgdi50ZWFjaGVyTGlzdCA9IHIuZGF0YS5yZXN1bHQudGVhY2hlckxpc3Q7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KDQp9Ow0K"},{"version":3,"sources":["Teachers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Teachers.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!--导航的面包屑部分-->\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item><a href=\"/\">讲师管理</a></el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--      搜索框部分-->\r\n    <div class=\"search_box\">\r\n      <h4>讲师筛选</h4>\r\n\r\n      <el-form :inline=\"true\" :model=\"searchForm\" size=\"medium\">\r\n        <el-form-item label=\"查询条件\">\r\n          <el-input v-model=\"searchForm.searchParam\" placeholder=\"请输入教师姓名,手机号\"></el-input>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item class=\"btn_item\">\r\n          <el-button @click=\"search\" icon=\"el-icon-search\">筛选</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <!--  数据部分-->\r\n    <div class=\"data_container\">\r\n      <!--数据头部\r\n      -->\r\n      <div class=\"data_header\">\r\n        <h4>讲师列表</h4>\r\n        <el-button size=\"medium\" icon=\"el-icon-folder-add\" @click=\"ranAdd()\">随机添加讲师</el-button>\r\n\r\n        <el-button size=\"medium\" icon=\"el-icon-folder-add\" @click=\"showAdd()\">添加讲师</el-button>\r\n      </div>\r\n      <div class=\"data_body\">\r\n        <el-table :data=\"teacherList\">\r\n          <el-table-column label=\"头像\" prop=\"photo\">\r\n            <template slot-scope=\"scope\">\r\n              <el-avatar shape=\"square\" :src=\"scope.row.photo\"></el-avatar>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"姓名\" prop=\"name\">\r\n          </el-table-column>\r\n          <el-table-column label=\"介绍\" prop=\"intro\">\r\n          </el-table-column>\r\n          <el-table-column label=\"手机号\" prop=\"mobile\">\r\n          </el-table-column>\r\n          <el-table-column label=\"性别\" prop=\"sex\">\r\n            <!--插槽传值-->\r\n            <template v-slot=\"slotProps\">\r\n              <span v-if=\"slotProps.row.sex==1\">男</span>\r\n              <span v-else>女</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column lable=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link @click=\"editTeacherShow(scope.row.id)\" type=\"success\">编辑</el-link>\r\n              <el-link @click=\"deleteTeacher(scope.row.id)\" type=\"danger\">删除</el-link>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <!--分页区域-->\r\n      <div class=\"data_footer\">\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            @next-click=\"next()\"\r\n            @prev-click=\"prev()\"\r\n            :current-page=\"pagenum\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"pagesize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <!--添加讲师弹出框-->\r\n    <el-dialog title=\"添加讲师\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"addForm\" size=\"medium\" label-position=\"left\">\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"addForm.name\" placeholder=\"请输入讲师姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"介绍\">\r\n          <el-input v-model=\"addForm.intro\" placeholder=\"请输入讲师介绍\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\">\r\n          <el-input v-model=\"addForm.mobile\" placeholder=\"请输入讲师手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-select v-model=\"addForm.sex\" placeholder=\"请选择性别\">\r\n            <el-option label=\"男\" :value=\"1\"></el-option>\r\n            <el-option label=\"女\" :value=\"0\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"medium\">取 消</el-button>\r\n        <el-button type=\"primary\" size=\"medium\" @click=\"addTeacher()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!--更新讲师弹框-->\r\n    <el-dialog :title=\"'更新老师:'+editId\" :visible.sync=\"dial\">\r\n      <el-form :model=\"editForm\" size=\"medium\" label-position=\"left\">\r\n        <el-form-item label=\"id\">\r\n          <el-input v-model=\"editForm.id\" placeholder=\"请输入讲师id\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"editForm.name\" placeholder=\"请输入讲师姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"介绍\">\r\n          <el-input v-model=\"editForm.intro\" placeholder=\"请输入讲师介绍\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\">\r\n          <el-input v-model=\"editForm.mobile\" placeholder=\"请输入讲师手机号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-select v-model=\"editForm.sex\" placeholder=\"请选择性别\">\r\n            <el-option label=\"男\" :value=\"1\"></el-option>\r\n            <el-option label=\"女\" :value=\"0\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button size=\"medium\">取 消</el-button>\r\n        <el-button type=\"primary\" size=\"medium\" @click=\"editTeacher()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n/*\r\n*  分页总结:\r\n*    分页分类\r\n*       1. 物理分页:查询数据时,就进行分页\r\n*       2. 逻辑分页:查询出所有数据时,然后通过代码逻辑分页\r\n*     建议使用物理分页\r\n* */\r\nimport Qs from \"qs\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      dial: false,\r\n      teacherList: [],\r\n      addForm: {\r\n        name: \"\",\r\n        intro: \"\",\r\n        mobile: \"\",\r\n        sex: 1,\r\n      },\r\n      editId: \"\",\r\n      editForm: {\r\n        id: \"\",\r\n        name: \"\",\r\n        intro: \"\",\r\n        mobile: \"\",\r\n        sex: \"\"\r\n      },\r\n      searchForm: {\r\n        searchParam: \"\"\r\n      },\r\n      pagenum: 1,\r\n      pagesize: 10,\r\n      total: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getTeacherList();\r\n  },\r\n  methods: {\r\n    search() {\r\n      this.getTeacherList();\r\n    },\r\n    handleCurrentChange(value) {\r\n      this.pagenum = value;\r\n      this.getTeacherList();\r\n    },\r\n    handleSizeChange(value) {\r\n      this.pagesize = value;\r\n      this.getTeacherList();\r\n    },\r\n    prev() {\r\n      this.pagenum--;\r\n      this.getTeacherList();\r\n    },\r\n    next() {\r\n      this.pagenum++;\r\n      this.getTeacherList();\r\n    },\r\n    editTeacherShow(id) {\r\n      this.dial = true;\r\n      this.editId = id;\r\n      console.log(id)\r\n    },\r\n    editTeacher() {\r\n      let url = \"teacher/editTeacher\";//  提交请求\r\n      let v = this;\r\n      console.log(v.editForm);\r\n      v.$axios.post(url, Qs.stringify(v.editForm)).then(function (r) {\r\n        v.$message(r.data.message)\r\n        console.log(r)\r\n        if (r.data.code == 200) {\r\n          v.getTeacherList();\r\n          //  关闭form表单\r\n        }\r\n        v.dial = false;\r\n      });\r\n    },\r\n    addTeacher() {\r\n      //  添加讲师\r\n      //  获取参数\r\n      let url = \"teacher/addTeacher\";\r\n      //  提交请求\r\n      let v = this;\r\n      console.log(v.addForm)\r\n      v.$axios.post(url, Qs.stringify(v.addForm)).then(function (r) {\r\n        v.$message(r.data.message)\r\n        if (r.data.code == 200) {\r\n          v.getTeacherList();\r\n          //  关闭form表单\r\n          v.dialogFormVisible = false;\r\n        }\r\n      });\r\n      //  提示添加结果,刷新界面\r\n    },\r\n    //删除老师\r\n    deleteTeacher(id) {\r\n      console.log(id);\r\n      //确认删除\r\n      //  删除,提示删除信息\r\n      let v = this;\r\n      v.$confirm('你确定删除该讲师吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(function () {\r\n        //删除讲师信息\r\n        let url = 'teacher/deleteTeacher';\r\n        let param = {id: id};\r\n        v.$axios.post(url, Qs.stringify(param)).then(function (r) {\r\n          v.$message(r.data.message);\r\n          v.getTeacherList();\r\n        });\r\n\r\n      });\r\n    },\r\n    showAdd() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    ranAdd() {\r\n      let url = \"teacher/addTeacher\";\r\n      let nameS = ['张', '王', '李', '赵', '刘'];\r\n      let nameList = ['依秋', '依波', '香巧', '紫萱', '涵易', '忆之', '幻巧', '美倩', '安寒', '白亦', '玉', '璇', '冰', '廉'];\r\n      let name = nameS[Math.floor(Math.random() * 100) % nameS.length] + nameList[Math.floor(Math.random() * 100) % nameList.length]\r\n      let intro = name + \"老师\";\r\n      let mobile = String(Math.random()).slice(-7);\r\n      let sex = Math.random() > 0.5 ? 1 : 0;\r\n      let param = {name: name, intro: intro, mobile: mobile, sex: sex}\r\n      console.log(param)\r\n      let v = this;\r\n      v.$axios.post(url, Qs.stringify(param)).then(function (r) {\r\n        if (r.data.code == 200) {\r\n          console.log(\"成功\")\r\n        }\r\n      });\r\n\r\n    },\r\n    getTeacherList() {\r\n      //  获取讲师的列表数据\r\n      /*\r\n      * 更换为分页:\r\n      *     增加参数:pagenum,pagesize\r\n      *     修改获取结果集的逻辑*/\r\n      let url = \"teacher/getTeachers\";\r\n      let userInfoStr = window.sessionStorage.getItem(\"userInfo\");\r\n      let token = JSON.parse(userInfoStr).token;\r\n      let param = {\r\n        token: token,\r\n        pagenum: this.pagenum,\r\n        pagesize: this.pagesize,\r\n        searchParam: this.searchForm.searchParam\r\n      };\r\n      //  发起axios请求\r\n      // 在axios的回调中,this指的不是vue对象,在这里存储vue对象\r\n      let v = this;\r\n      this.$axios.post(\r\n          url,\r\n          Qs.stringify(param)\r\n      ).then(function (r) {\r\n        console.log(r);\r\n        if (r.data.code == 200) {\r\n          //处理结果集\r\n          v.total = r.data.result.total;\r\n          v.teacherList = r.data.result.teacherList;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.search_box {\r\n  margin-top: 15px;\r\n  padding: 16px;\r\n  background-color: #fff;\r\n}\r\n\r\n.search_box h4 {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.btn_item {\r\n  float: right;\r\n}\r\n\r\nbutton {\r\n  background-color: #57a08b;\r\n  color: white;\r\n}\r\n\r\n.data_container {\r\n  margin-top: 15px;\r\n  background-color: #fff;\r\n}\r\n\r\n.data_container .data_header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 50px;\r\n  padding: 0px 20px;\r\n  border-bottom: 1px solid #e3e3e3;\r\n}\r\n\r\n.data_container .data_body {\r\n  padding: 10px 15px;\r\n}\r\n\r\n.data_body .el-link {\r\n  margin-left: 19px;\r\n}\r\n\r\n.data_container .data_footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 5px 20px;\r\n}\r\n</style>"]}]}